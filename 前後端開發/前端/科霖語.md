# 基本信息

名稱：冰語

# 基礎語法

## 分號

## 註解📝

**和茶語☕完全一樣**

| 類型         | 語法           |
|:-----------|:-------------|
| 單行註釋       | `// ...`     |
| 多行註釋       | `/* ... */`  |
| 文檔註釋`KDoc` | `/** ... */` |

> 🚨 冰語支持嵌套多層註解，而在茶語中是不可以的
>
> ```kotlin
> /* 
>    這是外部註解
>    /* 這是內部註釋 */
>    這也是外部註解
> */
> ```

## 輸出

## 輸入

# 基本資料類型

| 中文名  | `Kotlin`關鍵字 | `Java`對應關鍵字 | 特點                                      |
|:-----|:-----------:|:-----------:|:----------------------------------------|
| 字節整數 |   `Byte`    |   `byte`    | 8位元整數，127                               |
| 短整數  |   `Short`   |   `short`   | 16位元整數，65535                            |
| 整數   |    `Int`    |    `int`    | 32位元整數，21億                              |
| 長整數  |   `Long`    |   `long`    | 64位元整數，10^18                            |
| 浮點數  |   `Float`   |   `float`   | 32位元浮點數，約7位有效值                          |
| 雙精浮點 |  `Double`   |  `double`   | 64位元浮點數，約15位有效值                         |
| 字符   |   `Char`    |   `char`    | 單一字符                                    |
| 靜態字串 |  `String`   |  `String`   | 字串（不可變）                                 |
| 控制   |   `null`    |    物件類型     | Kotlin 預設不允許 `null`，Java 物件類型可以是 `null` |
| 真值   |  `Boolean`  |  `boolean`  | 布林值：`true` 或 `false`                    |
| 無返回  |   `Unit`    |   `void`    | 用來標識函數無返回值                              |
| 異常返回 |  `Nothing`  |   `void`    | 用於表示永遠不會正常返回的型別                         |

```kotlin
val byteValue: Byte = 127
val shortValue: Short = 32000
val intValue: Int = 100000
val longValue: Long = 10000000000L  // 長整數需要加 L


val floatValue: Float = 3.14f  // 浮點數需要加 f
val doubleValue: Double = 3.14159

val charValue: Char = 'A' // 使用單引號框住
val stringValue: String = "Hello, Kotlin!" // 使用雙引號框住


```

特殊返回類型

```kotlin
fun printMessage(message: String): Unit
{
    println(message)
}


fun throwException(): Nothing
{
    throw Exception("This is an error!")
}
```

## 運算符

### 1. 算術運算符

拾遺語：✅
茶語：✅

| 運算符 | 冰語          | 說明 |
|-----|-------------|----|
| `+` | `a = 5 + 3` | 加法 |
| `-` | `a = 5 - 3` | 減法 |
| `*` | `a = 5 * 3` | 乘法 |
| `/` | `a = 5 / 2` | 整除 |
| `%` | `a = 5 % 3` | 取餘 |

### 2. 賦值運算符

拾遺語：✅
茶語：✅

| 運算符  | 冰語       | 說明 |
|------|----------|----|
| `=`  | `a = 10` | 賦值 |
| `+=` | `a += 5` | 加等 |
| `-=` | `a -= 3` | 減等 |
| `*=` | `a *= 2` | 乘等 |
| `/=` | `a /= 2` | 除等 |
| `%=` | `a %= 3` | 餘等 |

### 3. 比較運算符

拾遺語：✅
茶語：✅

| 運算符  | 冰語       | 說明   |
|------|----------|------|
| `==` | `a == b` | 相等   |
| `!=` | `a != b` | 不相等  |
| `>`  | `a > b`  | 大於   |
| `<`  | `a < b`  | 小於   |
| `>=` | `a >= b` | 大於等於 |
| `<=` | `a <= b` | 小於等於 |

特殊

### 4. 判斷運算符

拾遺語：✅
茶語：✅

| 運算符    | 冰語         | 說明 |
|--------|------------|----|
| `&&`   | `a && b`   | 與  |
| `\|\|` | `a \|\| b` | 或  |
| `!`    | `!a`       | 非  |

### 5. 位元運算符

拾遺語：❌
茶語：❌

| Java 運算符 | Kotlin 等價函數 | 說明     |
|----------|-------------|--------|
| `&`      | `and()`     | 位元 AND |
| `\| `    | `or()`      | 位元 OR  |
| `^`      | `xor()`     | 位元 XOR |
| `~`      | `inv()`     | 位元取反   |
| `<<`     | `shl()`     | 左移     |
| `>>`     | `shr()`     | 右移     |
| `>>>`    | `ushr()`    | 無符號右移  |

### 6. 區間運算符

| 運算符      | Java                           | Kotlin                    | 說明          |
|----------|--------------------------------|---------------------------|-------------|
| `..`     | `for (int i = 1; i <= 5; i++)` | `for (i in 1..5)`         | 創建範圍 (包含 5) |
| `downTo` | 無                              | `for (i in 5 downTo 1)`   | 遞減範圍        |
| `until`  | 無                              | `for (i in 1 until 5)`    | 不包含結束值      |
| `step`   | 無                              | `for (i in 1..10 step 2)` | 設置步長        |

### 7. 成員運算符

拾遺語：🔒
茶語：❌

| 運算符   | Java                | Kotlin       | 說明      |
|-------|---------------------|--------------|---------|
| `in`  | `list.contains(5)`  | `5 in list`  | 是否在範圍內  |
| `!in` | `!list.contains(5)` | `5 !in list` | 是否不在範圍內 |

### 8. 索引運算符

拾遺語：✅
茶語：❌

| Java              | Kotlin         | 說明 |
|-------------------|----------------|----|
| `list.get(0)`     | `list[0]`      | 取值 |
| `list.set(0, 10)` | `list[0] = 10` | 設值 |

### 總結

| 類別 | 相似度  | 主要不同點                          |
|----|------|--------------------------------|
| 位元 | ❌ 不同 | Kotlin 用函數 (`shl()`, `and()`)  |
| 區間 | ❌ 不同 | Kotlin 有 `..`, `until`, `step` |

運算符重載

```kotlin
data class Point(val x: Int, val y: Int)
{
    operator fun plus(other: Point): Point
    {
        return Point(x + other.x, y + other.y)
    }
}
```

# 控制語句

## 一、條件語句 if

> ### ☕ 基本用法
>
> 基礎用法完全相同
> ```kotlin
>     if (x > 0)
>     {
>         println("正數")
>     }
>     else
>     {
>         println("負數或0")
>     }
> ```
>
> 「語句嵌套」和「括號省略」等特性也相同
>
> ```kotlin
>     if (x > 0)
>     {
>         if (y > 0) println(666)
>         else println(999)
>     }
> ```

> ### ❄️ 特性
>
> - ### 可以返回一個值
>
> 返回值為這個語句的最後一個語句
>
> ```kotlin
>     var a = readln().toInt()
>     var res = if (a % 2 == 0)
>     {
>         println("ou") // 既做了事情
>         "hhh"         // 也返回了值
>     }
>     else
>     {
>         println("ji")
>         "555"
>     }
>     println(res)
> ```
>
> - ### 可以當做三元表達式使用
>
> ```kotlin
>     val result = if (a % 2 == 0) "ou" else "ji"
>     println(result)
> ```
>
>
> - ### ⚠️ 注意
>
> **在使用返回值的時候：**
>
> 1. **不可以** 使用單分支語句，會導致另一分支返回值未定義
> 2. **不推薦** 使用不同返回值，可能會導致自動推導異常
> ```kotlin
>     // 可以使用Any關鍵字輔助推斷，但是也不推薦
>     val res: Any = if (x > 0) "正數" else 999
> ```
> 3. 如果某一分支最後一句沒有返回值，會返回`kotlin.Unit`

## 二、分支語句 when

> ### ☕ 基本用法
>
> - ### 用法同`switch-case`語句
> ```kotlin
>     when (num) 
>     {
>         1 -> println("One")
>         2 -> println("Two")
>         3 -> println("Three")
>     }
> ```


> ### ❄️ 特性
> - ### 可以返回一個值
> 
> 同上條件語句
>```kotlin
>     val status = when (Code)
>     {
>          200  -> "OK"
>          404  -> "Not Found"
>          500  -> "Server Error"
>          else -> "Unknown Status"
>     }
>```
>
> - ### 無需跳出
>
> 忘記`break`導致的「貫穿」引發了無數逆天的蚆蛒，此語言完全終結了此類問題
> ```kotlin
>     val x = 2
>     when (x)
>     {
>         1    -> println("One")
>         2    -> println("Two")
>         3    -> println("Three")
>         else -> println("Unknown")
>     }
> ```
>
>
> - ### 多值一匹配
>
> `break` 唯一的好處是合法的「貫穿」可以多分支合一，但這個語言可以安全實現
> ```kotlin
>     when (x)
>     {
>         1, 2, 3 -> println("x is 1, 2, or 3")
>         4, 5    -> println("x is 4 or 5")
>         else    -> println("x is sth else")
>     }
> ```
>
> - ### 檢查類型
>
> 此語言支援智能類型推斷，但在某些情況下仍需要手動檢查類型。該語句可以用來判斷變數的類型。
> ```kotlin
>     fun checkType(obj: Any) 
>     {
>         when (obj) 
>         {
>             is String  -> println("String")
>             is Int     -> println("Int")
>             is Boolean -> println("Boolean")
>             else       -> println("Unknown")
>         }
>     }
> ```
> - ### 可自由跳轉
>
> 刪去了語句內部的`break`特性之後，他可以來影響外部循環的流程，而不是控制內部分支
> ```kotlin
>     for (i in 1..5)
>     {
>          when (i)
>          {
>               2, 4 -> continue  // 跳過 2 和 4
>               5    -> break        // 當 i 為 5 時，直接結束迴圈
>               else -> println(i)
>          }
>     }
> ```
> - ### 可以自帶判斷
> 當不帶形參的時候，條件可以自帶正誤值語句，由此判斷是否進入某一個分支。這在需要判斷多個條件時，比 `if-else` 更清晰
> ```kotlin
>     when
>     {
>         a > b -> println("greater") 
>         a < b -> println("smaller")
>         else  -> println("equal")
>     }
> ```
>
> - ### ⚠️ 注意
> 看上去是一個條件，實際上：匹配到某條件後就結束，不會再執行後續的條件！
> **這類似於 `if-elseif` 的行為，而非 `if` 的連續判斷。**
> ```kotlin
>      when
>      {
>           a > b || a < b -> println("not-equal")  // a != b 時的分支
>           a > b          -> println("greater")    // 滿足條件的話已經在上面退出
>           a < b          -> println("smaller")    // 滿足條件的話已經在上面退出
>           else           -> println("equal")      // a == b 時的分支
>      }
> ```
>


## 三、條件循環 while do-while

> ### ☕ 基本用法
>
> 用法完全一樣，包括「嵌套」和「括號省略」特性等也完全相同
>
> ```kotlin
> // while
>      var i = 0
>      while (i < 5)
>          println(i++)
> ``` 
> ```kotlin
>     var i = 0
>     do
>         println(i++)
>     while (i < 5)
> ```

## 四、次數循環 for

> ### ☕ 基本用法
>
> - ### 用法同`switch-case`語句
> ```kotlin
>     when (num) 
>     {
>         1 -> println("One")
>         2 -> println("Two")
>         3 -> println("Three")
>     }
> ```


> ### ❄️ 特性
> - ### 可以返回一個值
>```kotlin
>```

## 五、跳轉語句 continue break

# 函式

## 特性

### 1. 支持默認參數

```kotlin
// 不給形參使用預設
fun print(message: String = "Default message") = println(message)
```

拾遺語：✅<br>
茶語：❌ 需要通過重載模擬

```java
class Printer
{
    void print(String message)
    {
        System.out.println(message);
    }

    void print()
    {
        System.out.println("Default message");
    }
}
```

# 面向物件

完全支援 面向物件程式設計 (OOP, Object-Oriented Programming)。在 Kotlin 中，OOP 的核心概念包括 類別 (Class)、物件 (Object)
、繼承 (Inheritance)、封裝 (Encapsulation)、多型 (Polymorphism) 以及 抽象 (Abstraction)。

## 特性

### 1. 屬性自帶「取值」「設值」

### 2. 自動生成預設函式

> ### ☕ 茶語寫法
> 必須手動複写：轉字串、判斷相等、算雜湊值，才能擁有統一介面
>
> ```java
> class Demo
> {
>     @Override
>     public String toString() {}
>     
>     @Override
>     public boolean equals(Object obj){}
>     
>     @Override
>     public int hashCode(){}
> }
> ```
>
> ### ❄️ 冰語設計
> **實現的基本的思路都是圍繞屬性值，手動實現不難、但是易錯。**
>
> 在冰語裡面衹要在類別前面加上 `data` 關鍵字，自動生成
> - 轉字串的格式是：`類別名(屬性名甲=屬性值甲, 屬性名乙=屬性值乙)`
> - 判斷相等的思路是：比較所有屬性值
> - 算雜湊值的思路是：每一個屬性單獨計算，最後歸總在一起
>
> ```kotlin
> data class Person(val name: String, val age: Int)
> 
> fun main() {
>     val p1 = Person("Alice", 25)
>     val p2 = Person("Alice", 25)
> 
>     println(p1.toString()) // Person(name=Alice, age=25)
>     println(p1 == p2) // true
>     println(p1.hashCode() == p2.hashCode()) // true
> }
> ```
>
> ### ⚠️ 注意
> 要加上 `data` 關鍵字，否則函數不可用
>
>
> ### 📌 用法要點


̊

#               

開啟於2025/03/10